(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/twitter-logo.672fae97.svg"},,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/google-logo.3ec228d3.svg"},,,function(e,t,a){e.exports=a(60)},,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),l=(a(33),a(4)),i=a(9),s=a(11),m=a.n(s);a(34),a(36);m.a.initializeApp({apiKey:"AIzaSyCKA0s6c9HvNGGSWfBJ3JAsZ3JwVYmlRiU",authDomain:"blogeekplatzi-11e72.firebaseapp.com",databaseURL:"https://blogeekplatzi-11e72.firebaseio.com",projectId:"blogeekplatzi-11e72",storageBucket:"blogeekplatzi-11e72.appspot.com",messagingSenderId:"566325650438",appId:"1:566325650438:web:cd217dab57eded168d8f87"});var u=m.a.firestore(),d=m.a.auth(),g={google:new m.a.auth.GoogleAuthProvider},p=m.a,E={signInGoogle:function(){return d.signInWithPopup(g.google)},signInEmail:function(e,t){return d.signInWithEmailAndPassword(e,t)},createEmail:function(e,t){return d.createUserWithEmailAndPassword(e,t)},signOut:function(){return d.signOut()},onChange:function(e){return d.onAuthStateChanged(e)},getUser:function(){return d.currentUser}},f=a(2),v=a(7),b=(a(40),a(41),function(){return r.a.createElement("div",{className:"circle"})}),N=function(){return r.a.createElement("div",{className:"PageLoading"},r.a.createElement(b,null))},w=(a(42),a(43),function(e){var t=e.signInEmail,a=Object(n.useState)(""),c=Object(f.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),s=Object(f.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)({email:"",password:""}),g=Object(f.a)(d,2),p=g[0],E=g[1],N=p.email,w=p.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u(!0),t(N,w).then((function(e){u(!1)})).catch((function(e){"auth/invalid-email"===e.code?l({input:"email",code:e.code,message:"Introduce un correo electr\xf3nico v\xe1lido"}):"auth/user-disabled"===e.code?l({input:"email",code:e.code,message:"Tu usuario ha sido desabilitado"}):"auth/user-not-found"===e.code?l({input:"email",code:e.code,message:"No existe un usuario con ese correo"}):"auth/wrong-password"===e.code?l({input:"password",code:e.code,message:"La contrase\xf1a es incorrecta"}):console.log(e.code,e.message),u(!1)}))}},r.a.createElement("div",{className:"email"===o.input?"form-group Login-Form-Group Error":"form-group Login-Form-Group"},r.a.createElement("label",{htmlFor:"email",className:"Login-Label"},"Correo"),r.a.createElement("input",{className:"form-control Login-Input",type:"email",name:"email",id:"email",onChange:function(e){return E(Object(v.a)({},p,{email:e.target.value}))},value:N}),"email"===o.input&&r.a.createElement("small",{className:"Error-Message"},o.message)),r.a.createElement("div",{className:"password"===o.input?"form-group Login-Form-Group Error":"form-group Login-Form-Group"},r.a.createElement("label",{htmlFor:"password",className:"Login-Label"},"Contrase\xf1a"),r.a.createElement("input",{className:"form-control Login-Input",type:"password",name:"password",id:"password",onChange:function(e){return E(Object(v.a)({},p,{password:e.target.value}))},value:w}),"password"===o.input&&r.a.createElement("small",{className:"Error-Message"},o.message)),r.a.createElement("button",{className:"btn btn-primary btn-block Login-Btn",disabled:!N||!w},m?r.a.createElement(b,null):"Iniciar sesi\xf3n")))}),L=a(16),h=a.n(L),k=a(25),O=a.n(k),C=(a(44),function(e){var t=e.signInGoogle,a=e.text;return r.a.createElement("button",{onClick:t,className:"Google-Btn"},r.a.createElement("img",{src:O.a,alt:"Google logo"})," ",a)}),j=function(e){var t=e.signInGoogle,a=e.signInEmail;return r.a.createElement("section",{className:"Login-Container"},r.a.createElement("img",{src:h.a,alt:"twitter logo",className:"Twitter-Logo"}),r.a.createElement("h1",{className:"Login-Header"},"Iniciar sesi\xf3n en Aswitter"),r.a.createElement(w,{signInEmail:a}),r.a.createElement(C,{signInGoogle:t,text:"Iniciar sesi\xf3n con Google"}),r.a.createElement(l.b,{to:"/register",className:"primary Login-Link"},"\xbfA\xfan no tenes cuenta? Reg\xedstrate en Aswitter"))},I=(a(49),a(50),function(e){var t=e.createAcc,a=Object(n.useState)(!1),c=Object(f.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(""),m=Object(f.a)(s,2),u=m[0],d=m[1],g=Object(n.useState)({email:"",password:"",userName:""}),p=Object(f.a)(g,2),E=p[0],N=p[1],w=E.email,L=E.password,h=E.userName,k=Object(i.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(!0),t(w,L).then((function(e){var t=e.user;t.updateProfile({displayName:h,photoURL:"https://www.eleganciadospuntocero.com/wp-content/uploads/2013/03/Huevo-twitter-avatar.jpg"}).then((function(){t.sendEmailVerification().catch((function(e){return console.log(e.message)})),k.push("/"),l(!1)}))})).catch((function(e){"auth/invalid-email"===e.code?d({input:"email",code:e.code,message:"Introduce un correo electr\xf3nico v\xe1lido"}):"auth/email-already-in-use"===e.code?d({input:"email",code:e.code,message:"El correo ingresado ya esta en uso"}):"auth/weak-password"===e.code?d({input:"password",code:e.code,message:"La contrase\xf1a debe tener al menos 6 caracteres"}):console.log(e.code,e.message),l(!1)}))}},r.a.createElement("div",{className:"form-group Register-Form-Group"},r.a.createElement("label",{htmlFor:"userName",className:"Register-Label"},"Usuario"),r.a.createElement("input",{className:"form-control Register-Input",type:"text",name:"userName",id:"userName",onChange:function(e){return N(Object(v.a)({},E,{userName:e.target.value}))},value:h})),r.a.createElement("div",{className:"email"===u.input?"form-group Register-Form-Group Error":"form-group Register-Form-Group"},r.a.createElement("label",{htmlFor:"email",className:"Register-Label"},"Correo"),r.a.createElement("input",{className:"form-control Register-Input",type:"email",name:"email",id:"email",onChange:function(e){return N(Object(v.a)({},E,{email:e.target.value}))},value:w}),"email"===u.input&&r.a.createElement("small",{className:"Error-Message"},u.message)),r.a.createElement("div",{className:"password"===u.input?"form-group Register-Form-Group Error":"form-group Register-Form-Group"},r.a.createElement("label",{htmlFor:"password",className:"Register-Label"},"Contrase\xf1a"),r.a.createElement("input",{className:"form-control Register-Input",type:"password",name:"password",id:"password",onChange:function(e){return N(Object(v.a)({},E,{password:e.target.value}))},value:L}),"password"===u.input&&r.a.createElement("small",{className:"Error-Message"},u.message)),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block Register-Btn",disabled:!(w&&h&&L)},o?r.a.createElement(b,null):"Registrarse")))}),R=function(e){var t=e.createAcc,a=e.signInGoogle;return r.a.createElement("section",{className:"Register-Container"},r.a.createElement("img",{src:h.a,alt:"twitter logo",className:"Twitter-Logo"}),r.a.createElement("h1",{className:"Register-Header"},"Registrarse en Aswitter"),r.a.createElement(I,{createAcc:t}),r.a.createElement(C,{signInGoogle:a,text:"Registrate con Google"}),r.a.createElement(l.b,{to:"/",className:"primary Register-Link"},"\xbfYa tienes una cuenta? Inicia sesi\xf3n en Aswitter"))},y=function(e){var t=e.signIn,a=e.createAcc,n=e.status;return r.a.createElement("div",null,"init"===n&&r.a.createElement(N,null),"restored"===n&&r.a.createElement(l.a,{basename:"/"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(j,{signInGoogle:t.google,signInEmail:t.email})),r.a.createElement(i.a,{exact:!0,path:"/register"},r.a.createElement(R,{createAcc:a,signInGoogle:t.google})))))},T=r.a.createContext(null),U=function(e){var t=e.children,a=r.a.useState(null),c=Object(f.a)(a,2),o=c[0],l=c[1],i=r.a.useState("init"),s=Object(f.a)(i,2),m=s[0],u=s[1];Object(n.useEffect)((function(){E.onChange((function(e){l(e),u("restored")}))}),[]);var d={user:o},g={signOut:E.signOut,signIn:{google:E.signInGoogle,email:E.signInEmail},createAcc:E.createEmail};return o?r.a.createElement(T.Provider,{value:{state:d,actions:g}},t):r.a.createElement(y,{signIn:g.signIn,createAcc:g.createAcc,status:m})},x=function(){return r.a.useContext(T).state.user},A=function(e){return u.collection("tweets").add(e)},G=function(e){return u.collection("tweets").doc(e).delete()},S=function(e,t){return u.collection("tweets").doc(e).update({likes:p.firestore.FieldValue.arrayUnion(t)})},F=function(e,t){return u.collection("tweets").doc(e).update({likes:p.firestore.FieldValue.arrayRemove(t)})},M=function(e){return u.collection("tweets").onSnapshot((function(t){return e(t.docs.map((function(e){return Object(v.a)({id:e.id},e.data())})))}))},D=r.a.createContext({}),P=function(e){var t=e.children,a=x(),c=Object(n.useState)([]),o=Object(f.a)(c,2),l=o[0],i=o[1],s=Object(n.useState)(!1),m=Object(f.a)(s,2),u=m[0],d=m[1];if(Object(n.useEffect)((function(){return M((function(e){i(e),d(!1)})),function(){return d(!0)}}),[a.uid]),u)return r.a.createElement(N,null);var g={tweets:l},p={add:function(e,t){var n=a.uid,r=a.displayName,c=a.photoURL,o=a.email.split("@")[0];A({text:e,date:t,uid:n,displayName:r,photoURL:c,likes:[],userName:o})},remove:function(e){G(e)},addLike:function(e){var t=a.uid;S(e,t)},removeLike:function(e){var t=a.uid;F(e,t)}};return r.a.createElement(D.Provider,{value:{state:g,actions:p}},t)};function z(){var e=r.a.useContext(D),t=e.state.tweets,a=e.actions,n=a.add,c=a.remove,o=a.addLike,l=a.removeLike;return[t.map((function(e){return Object(v.a)({},e,{remove:function(){return c(e.id)},removeLike:function(){return l(e.id)},addLike:function(){return o(e.id)}})})),n]}a(51);var H=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],c=t[1],o=z(),l=Object(f.a)(o,2),i=(l[0],l[1]);return r.a.createElement("div",{className:"Input-Container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new Date;i(a,t.getTime()),c("")}},r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"Tweet-Area-Wrapper"},r.a.createElement("textarea",{className:"form-control mb-4 Tweet-Area",onChange:function(e){c(e.target.value)},value:a,placeholder:"\xbfQu\xe9 est\xe1 pasando?"})),a&&r.a.createElement("small",{className:"Chars-Count ".concat(a.length>144?"text-red":"")},"Te quedan ",144-a.length," caracteres")),r.a.createElement("button",{className:"btn btn-primary Tweet-btn",disabled:!(a&&a.length<=144),type:"submit"},"Twittear")))},B=(a(52),function(e){var t=e.imageURL;return r.a.createElement("div",{className:"Avatar"},t?r.a.createElement("img",{src:t,alt:"avatar"}):null)}),J=(a(53),function(e){var t=e.imageURL,a=e.name;return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(l.b,{to:"/profile"},r.a.createElement(B,{imageURL:t})),r.a.createElement("div",{className:"col"},r.a.createElement("h1",{className:"User-Name"},r.a.createElement(l.b,{to:"/profile"},a),r.a.createElement("span",{className:"LogOut",onClick:function(){return E.signOut()}},"Cerrar sesi\xf3n")),r.a.createElement(H,null)))))}),W=(a(54),function(e){var t=e.isOpen,a=e.children,n=e.onClose;return t?o.a.createPortal(r.a.createElement("div",{className:"Modal",onClick:n},r.a.createElement("div",{className:"Modal__container"},a)),document.getElementById("modal")):null}),V=function(e){return r.a.createElement(W,{isOpen:e.isOpen,onClose:e.onClose},r.a.createElement("div",{className:"DeleteBadgeModal"},r.a.createElement("h1",null,"\xbfEst\xe1s seguro?"),r.a.createElement("p",null,"Estas a punto de eliminar este tweet"),r.a.createElement("div",null,r.a.createElement("button",{onClick:e.onDeleteTweet,className:"btn btn-danger mr-4"},"Eliminar"),r.a.createElement("button",{onClick:e.onClose,className:"btn btn-primary"},"Cancelar"))))},K=function(e){var t=e.handleDeleteTweet,a=Object(n.useState)(!1),c=Object(f.a)(a,2),o=c[0],l=c[1],i=function(){l(!o)};return r.a.createElement("div",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"Delete-Svg",onClick:function(){return i()}},r.a.createElement("path",{d:"M 10 2 L 9 3 L 4 3 L 4 5 L 5 5 L 5 20 C 5 20.522222 5.1913289 21.05461 5.5683594 21.431641 C 5.9453899 21.808671 6.4777778 22 7 22 L 17 22 C 17.522222 22 18.05461 21.808671 18.431641 21.431641 C 18.808671 21.05461 19 20.522222 19 20 L 19 5 L 20 5 L 20 3 L 15 3 L 14 2 L 10 2 z M 7 5 L 17 5 L 17 20 L 7 20 L 7 5 z M 9 7 L 9 18 L 11 18 L 11 7 L 9 7 z M 13 7 L 13 18 L 15 18 L 15 7 L 13 7 z"})),r.a.createElement(V,{isOpen:o,onClose:i,onDeleteTweet:t}))},Y=(a(55),function(e){var t=e.likes,a=e.addLike,c=e.removeLike,o=x(),l=Object(n.useState)(null),i=Object(f.a)(l,2),s=i[0],m=i[1];Object(n.useEffect)((function(){var e=t.includes(o.uid);m(e)}),[t,o.uid]);return r.a.createElement("div",{className:"Likes-Container ".concat(s?"text-red":"")},r.a.createElement("div",{className:"button fav ".concat(s?"is-liked":""),id:"fav",onClick:function(){m(!s),s?c():a()}}),t.length)}),_=(a(56),function(e){var t=e.text,a=e.remove,n=e.date,c=e.avatar,o=e.userTweet,l=e.likes,i=e.removeLike,s=e.addLike,m=e.userName,u=e.profileName;return r.a.createElement("div",{className:"Tweet-Container"},r.a.createElement(B,{imageURL:c}),r.a.createElement("div",{className:"col Tweet-Content"},r.a.createElement("div",{className:"Tweet-Header"},r.a.createElement("span",null,u),r.a.createElement("span",{className:"UserName"},"@",m),r.a.createElement("span",{className:"Tweet-Info"},"\u2022 ",function(e){var t=new Date,a=Math.round((t-e)/1e3);return a<59?"".concat(a,"s"):a/60<59?"".concat(Math.round(a/60),"min"):a/60/60<24?"".concat(Math.round(a/60/60),"h"):"Hace ".concat(Math.round(a/60/60/24)," d\xedas")}(n))),t),r.a.createElement("div",{className:"Tweet-Actions"},o&&r.a.createElement(K,{handleDeleteTweet:function(){a()}}),r.a.createElement(Y,{addLike:s,removeLike:i,likes:l})))}),q=function(){var e,t=z(),a=Object(f.a)(t,1)[0],n=x(),c=(e="date",a.sort((function(t,a){return a[e]-t[e]})));return 0===a.length?r.a.createElement(N,null):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"TweetsList-Container"},c.map((function(e){var t=e.id,a=e.text,c=e.date,o=e.displayName,l=e.photoURL,i=e.uid,s=e.remove,m=e.addLike,u=e.removeLike,d=e.likes,g=e.userName;return r.a.createElement(_,{key:t,id:t,text:a,remove:s,uid:i,date:c,profileName:o,avatar:l,userTweet:n.uid===i,addLike:m,removeLike:u,likes:d,userName:g})}))))},Q=function(){var e=x();return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{imageURL:e.photoURL,name:e.displayName}),r.a.createElement(q,null))},Z=(a(57),function(e){var t=e.userTweets,a=x().displayName,n=t.length;return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"User-Header-Container"},r.a.createElement(l.b,{to:"/"},r.a.createElement("div",{className:"arrow"})),r.a.createElement("div",{className:"Header-User-Info"},r.a.createElement("div",{className:"Header-User"},a),r.a.createElement("div",{className:"Header-Tweets"},n," Tweets")))))}),X=(a(58),function(){var e=x(),t=e.photoURL,a=e.displayName,n=e.email.split("@")[0];return r.a.createElement("section",{className:"User-Profile"},r.a.createElement("div",{className:"container"},r.a.createElement(B,{imageURL:t}),r.a.createElement("div",{className:"Profile-Name"},a),r.a.createElement("div",{className:"Profile-UserName"},"@",n)))}),$=function(e){var t,a=e.userTweets,n=z(),c=Object(f.a)(n,1)[0],o=x(),l=(t="date",a.sort((function(e,a){return a[t]-e[t]})));return 0===c.length?r.a.createElement(N,null):r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Tweets"),r.a.createElement("div",{className:"UserTweets-Container"},l.map((function(e){var t=e.id,a=e.text,n=e.date,c=e.displayName,l=e.photoURL,i=e.uid,s=e.remove,m=e.addLike,u=e.removeLike,d=e.likes,g=e.userName;return r.a.createElement(_,{key:t,id:t,text:a,remove:s,uid:i,date:n,profileName:c,avatar:l,userTweet:o.uid===i,addLike:m,removeLike:u,likes:d,userName:g})}))))},ee=function(){var e=z(),t=Object(f.a)(e,1)[0],a=x(),n=function(e){var t=[];return e.map((function(e){return e.uid===a.uid?t.push(e):null})),t}(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{userTweets:n}),r.a.createElement(X,null),r.a.createElement($,{userTweets:n}))},te=function(){return r.a.createElement(l.a,{basename:""},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/profile",component:ee}),r.a.createElement(i.a,{exact:!0,path:"/",component:Q})))};a(59);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null,r.a.createElement(P,null,r.a.createElement(te,null)))),document.getElementById("root"))}],[[28,1,2]]]);
//# sourceMappingURL=main.7b7010f7.chunk.js.map