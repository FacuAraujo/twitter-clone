(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/twitter-logo.672fae97.svg"},,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/google-logo.3ec228d3.svg"},,,function(e,t,a){e.exports=a(57)},,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),l=(a(33),a(11)),i=a.n(l);a(34),a(36);i.a.initializeApp({apiKey:"AIzaSyCKA0s6c9HvNGGSWfBJ3JAsZ3JwVYmlRiU",authDomain:"blogeekplatzi-11e72.firebaseapp.com",databaseURL:"https://blogeekplatzi-11e72.firebaseio.com",projectId:"blogeekplatzi-11e72",storageBucket:"blogeekplatzi-11e72.appspot.com",messagingSenderId:"566325650438",appId:"1:566325650438:web:cd217dab57eded168d8f87"});var s=i.a.firestore(),u=i.a.auth(),m={google:new i.a.auth.GoogleAuthProvider},d=i.a,g={signInGoogle:function(){return u.signInWithPopup(m.google)},signInEmail:function(e,t){return u.signInWithEmailAndPassword(e,t)},createEmail:function(e,t){return u.createUserWithEmailAndPassword(e,t)},signOut:function(){return u.signOut()},onChange:function(e){return u.onAuthStateChanged(e)},getUser:function(){return u.currentUser}},p=(a(40),a(2)),E=a(6),f=a(9),v=a(8),b=(a(41),a(42),function(){return r.a.createElement("div",{className:"circle"})}),w=function(){return r.a.createElement("div",{className:"PageLoading"},r.a.createElement(b,null))},L=(a(43),a(44),function(e){var t=e.signInEmail,a=Object(n.useState)(""),o=Object(p.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)(!1),s=Object(p.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)({email:"",password:""}),g=Object(p.a)(d,2),f=g[0],v=g[1],w=f.email,L=f.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(!0),t(w,L).then((function(e){m(!1)})).catch((function(e){"auth/invalid-email"===e.code?l({input:"email",code:e.code,message:"Introduce un correo electr\xf3nico v\xe1lido"}):"auth/user-disabled"===e.code?l({input:"email",code:e.code,message:"Tu usuario ha sido desabilitado"}):"auth/user-not-found"===e.code?l({input:"email",code:e.code,message:"No existe un usuario con ese correo"}):"auth/wrong-password"===e.code?l({input:"password",code:e.code,message:"La contrase\xf1a es incorrecta"}):console.log(e.code,e.message),m(!1)}))}},r.a.createElement("div",{className:"email"===c.input?"form-group Login-Form-Group Error":"form-group Login-Form-Group"},r.a.createElement("label",{htmlFor:"email",className:"Login-Label"},"Correo"),r.a.createElement("input",{className:"form-control Login-Input",type:"email",name:"email",id:"email",onChange:function(e){return v(Object(E.a)({},f,{email:e.target.value}))},value:w}),"email"===c.input&&r.a.createElement("small",{className:"Error-Message"},c.message)),r.a.createElement("div",{className:"password"===c.input?"form-group Login-Form-Group Error":"form-group Login-Form-Group"},r.a.createElement("label",{htmlFor:"password",className:"Login-Label"},"Contrase\xf1a"),r.a.createElement("input",{className:"form-control Login-Input",type:"password",name:"password",id:"password",onChange:function(e){return v(Object(E.a)({},f,{password:e.target.value}))},value:L}),"password"===c.input&&r.a.createElement("small",{className:"Error-Message"},c.message)),r.a.createElement("button",{className:"btn btn-primary btn-block Login-Btn",disabled:!w||!L},u?r.a.createElement(b,null):"Iniciar sesi\xf3n")))}),N=a(16),h=a.n(N),O=a(25),C=a.n(O),k=(a(45),function(e){var t=e.signInGoogle,a=e.text;return r.a.createElement("button",{onClick:t,className:"Google-Btn"},r.a.createElement("img",{src:C.a,alt:"Google logo"})," ",a)}),j=function(e){var t=e.signInGoogle,a=e.signInEmail;return r.a.createElement("section",{className:"Login-Container"},r.a.createElement("img",{src:h.a,alt:"twitter logo",className:"Twitter-Logo"}),r.a.createElement("h1",{className:"Login-Header"},"Iniciar sesi\xf3n en TwitterClone"),r.a.createElement(L,{signInEmail:a}),r.a.createElement(k,{signInGoogle:t,text:"Iniciar sesi\xf3n con Google"}),r.a.createElement(f.b,{to:"/register",className:"primary Login-Link"},"\xbfA\xfan no tenes cuenta? Reg\xedstrate en TwitterClone"))},I=(a(50),a(51),function(e){var t=e.createAcc,a=Object(n.useState)(!1),o=Object(p.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)(""),s=Object(p.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)({email:"",password:"",userName:""}),g=Object(p.a)(d,2),f=g[0],w=g[1],L=f.email,N=f.password,h=f.userName,O=Object(v.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(!0),t(L,N).then((function(e){var t=e.user;t.updateProfile({displayName:h,photoURL:"https://www.eleganciadospuntocero.com/wp-content/uploads/2013/03/Huevo-twitter-avatar.jpg"}).then((function(){t.sendEmailVerification().catch((function(e){return console.log(e.message)})),O.push("/"),l(!1)}))})).catch((function(e){"auth/invalid-email"===e.code?m({input:"email",code:e.code,message:"Introduce un correo electr\xf3nico v\xe1lido"}):"auth/email-already-in-use"===e.code?m({input:"email",code:e.code,message:"El correo ingresado ya esta en uso"}):"auth/weak-password"===e.code?m({input:"password",code:e.code,message:"La contrase\xf1a debe tener al menos 6 caracteres"}):console.log(e.code,e.message),l(!1)}))}},r.a.createElement("div",{className:"form-group Register-Form-Group"},r.a.createElement("label",{htmlFor:"userName",className:"Register-Label"},"Usuario"),r.a.createElement("input",{className:"form-control Register-Input",type:"text",name:"userName",id:"userName",onChange:function(e){return w(Object(E.a)({},f,{userName:e.target.value}))},value:h})),r.a.createElement("div",{className:"email"===u.input?"form-group Register-Form-Group Error":"form-group Register-Form-Group"},r.a.createElement("label",{htmlFor:"email",className:"Register-Label"},"Correo"),r.a.createElement("input",{className:"form-control Register-Input",type:"email",name:"email",id:"email",onChange:function(e){return w(Object(E.a)({},f,{email:e.target.value}))},value:L}),"email"===u.input&&r.a.createElement("small",{className:"Error-Message"},u.message)),r.a.createElement("div",{className:"password"===u.input?"form-group Register-Form-Group Error":"form-group Register-Form-Group"},r.a.createElement("label",{htmlFor:"password",className:"Register-Label"},"Contrase\xf1a"),r.a.createElement("input",{className:"form-control Register-Input",type:"password",name:"password",id:"password",onChange:function(e){return w(Object(E.a)({},f,{password:e.target.value}))},value:N}),"password"===u.input&&r.a.createElement("small",{className:"Error-Message"},u.message)),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block Register-Btn",disabled:!(L&&h&&N)},c?r.a.createElement(b,null):"Registrarse")))}),y=function(e){var t=e.createAcc,a=e.signInGoogle;return r.a.createElement("section",{className:"Register-Container"},r.a.createElement("img",{src:h.a,alt:"twitter logo",className:"Twitter-Logo"}),r.a.createElement("h1",{className:"Register-Header"},"Registrarse en TwitterClone"),r.a.createElement(I,{createAcc:t}),r.a.createElement(k,{signInGoogle:a,text:"Registrate con Google"}),r.a.createElement(f.b,{to:"/",className:"primary Register-Link"},"\xbfYa tienes una cuenta? Inicia sesi\xf3n en TwitterClone"))},R=function(e){var t=e.signIn,a=e.createAcc,n=e.status;return r.a.createElement("div",null,"init"===n&&r.a.createElement(w,null),"restored"===n&&r.a.createElement(f.a,{basename:"/"},r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/"},r.a.createElement(j,{signInGoogle:t.google,signInEmail:t.email})),r.a.createElement(v.a,{exact:!0,path:"/register"},r.a.createElement(y,{createAcc:a,signInGoogle:t.google})))))},G=r.a.createContext(null),T=function(e){var t=e.children,a=r.a.useState(null),o=Object(p.a)(a,2),c=o[0],l=o[1],i=r.a.useState("init"),s=Object(p.a)(i,2),u=s[0],m=s[1];Object(n.useEffect)((function(){g.onChange((function(e){l(e),m("restored")}))}),[]);var d={user:c},E={signOut:g.signOut,signIn:{google:g.signInGoogle,email:g.signInEmail},createAcc:g.createEmail};return c?r.a.createElement(G.Provider,{value:{state:d,actions:E}},t):r.a.createElement(R,{signIn:E.signIn,createAcc:E.createAcc,status:u})},x=function(){return r.a.useContext(G).state.user},S=function(e){return s.collection("tweets").add(e)},A=function(e){return s.collection("tweets").doc(e).delete()},F=function(e,t){return s.collection("tweets").doc(e).update({likes:d.firestore.FieldValue.arrayUnion(t)})},M=function(e,t){return s.collection("tweets").doc(e).update({likes:d.firestore.FieldValue.arrayRemove(t)})},U=function(e){return s.collection("tweets").onSnapshot((function(t){return e(t.docs.map((function(e){return Object(E.a)({id:e.id},e.data())})))}))},D=r.a.createContext({}),z=function(e){var t=e.children,a=x(),o=Object(n.useState)([]),c=Object(p.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)(!1),u=Object(p.a)(s,2),m=u[0],d=u[1];if(Object(n.useEffect)((function(){return U((function(e){i(e),d(!1)})),function(){return d(!0)}}),[a.uid]),m)return r.a.createElement(w,null);var g={tweets:l},E={add:function(e,t){var n=a.uid,r=a.displayName,o=a.photoURL;S({text:e,date:t,uid:n,displayName:r,photoURL:o,likes:[]})},remove:function(e){A(e)},addLike:function(e){var t=a.uid;F(e,t)},removeLike:function(e){var t=a.uid;M(e,t)}};return r.a.createElement(D.Provider,{value:{state:g,actions:E}},t)};function B(){var e=r.a.useContext(D),t=e.state.tweets,a=e.actions,n=a.add,o=a.remove,c=a.addLike,l=a.removeLike;return[t.map((function(e){return Object(E.a)({},e,{remove:function(){return o(e.id)},removeLike:function(){return l(e.id)},addLike:function(){return c(e.id)}})})),n]}a(52);var P=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(144),l=Object(p.a)(c,2),i=l[0],s=l[1],u=B(),m=Object(p.a)(u,2),d=(m[0],m[1]);return r.a.createElement("div",{className:"Input-Container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new Date;d(a,t.getTime()),o("")}},r.a.createElement("div",{className:"w-100"},r.a.createElement("textarea",{type:"text",className:"form-control mr-4 Tweet-Area",placeholder:"\xbfQu\xe9 est\xe1 pasando?",onChange:function(e){return a.length<144&&(o(e.target.value),s(143-a.length)),null},value:a}),a&&r.a.createElement("small",{className:"text-secondary"},"Te quedan ",i," caracteres")),r.a.createElement("button",{className:"btn btn-primary Tweet-btn",disabled:!a,type:"submit"},"Twittear")))},H=function(e){var t=e.imageURL,a=e.name;return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"Header-Avatar"},t?r.a.createElement("img",{src:t,alt:"avatar"}):null),r.a.createElement("div",{className:"col"},r.a.createElement("h1",{className:"User-Name"},a," ",r.a.createElement("span",{className:"LogOut",onClick:function(){return g.signOut()}},"Cerrar sesi\xf3n")),r.a.createElement(P,null)))))},J=(a(53),function(e){var t=e.isOpen,a=e.children,n=e.onClose;return t?c.a.createPortal(r.a.createElement("div",{className:"Modal",onClick:n},r.a.createElement("div",{className:"Modal__container"},a)),document.getElementById("modal")):null}),V=function(e){return r.a.createElement(J,{isOpen:e.isOpen,onClose:e.onClose},r.a.createElement("div",{className:"DeleteBadgeModal"},r.a.createElement("h1",null,"\xbfEst\xe1s seguro?"),r.a.createElement("p",null,"Estas a punto de eliminar este tweet"),r.a.createElement("div",null,r.a.createElement("button",{onClick:e.onDeleteTweet,className:"btn btn-danger mr-4"},"Eliminar"),r.a.createElement("button",{onClick:e.onClose,className:"btn btn-primary"},"Cancelar"))))},W=function(e){var t=e.handleDeleteTweet,a=Object(n.useState)(!1),o=Object(p.a)(a,2),c=o[0],l=o[1],i=function(){l(!c)};return r.a.createElement("div",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"Delete-Svg",onClick:function(){return i()}},r.a.createElement("path",{d:"M 10 2 L 9 3 L 4 3 L 4 5 L 5 5 L 5 20 C 5 20.522222 5.1913289 21.05461 5.5683594 21.431641 C 5.9453899 21.808671 6.4777778 22 7 22 L 17 22 C 17.522222 22 18.05461 21.808671 18.431641 21.431641 C 18.808671 21.05461 19 20.522222 19 20 L 19 5 L 20 5 L 20 3 L 15 3 L 14 2 L 10 2 z M 7 5 L 17 5 L 17 20 L 7 20 L 7 5 z M 9 7 L 9 18 L 11 18 L 11 7 L 9 7 z M 13 7 L 13 18 L 15 18 L 15 7 L 13 7 z"})),r.a.createElement(V,{isOpen:c,onClose:i,onDeleteTweet:t}))},K=(a(54),function(e){var t=e.likes,a=e.addLike,o=e.removeLike,c=x(),l=Object(n.useState)(null),i=Object(p.a)(l,2),s=i[0],u=i[1];Object(n.useEffect)((function(){var e=t.includes(c.uid);u(e)}),[t,c.uid]);return r.a.createElement("div",{className:"Likes-Container ".concat(s?"text-red":"")},r.a.createElement("div",{className:"button fav ".concat(s?"is-liked":""),id:"fav",onClick:function(){u(!s),s?o():a()}}),t.length)}),Y=(a(55),function(e){var t=e.text,a=e.remove,n=e.date,o=e.userName,c=e.avatar,l=e.userTweet,i=e.likes,s=e.removeLike,u=e.addLike;return r.a.createElement("div",{className:"Tweet-Container"},r.a.createElement("div",{className:"Tweet-Avatar"},r.a.createElement("img",{src:c,alt:"avatar"})),r.a.createElement("div",{className:"col Tweet-Content"},r.a.createElement("div",{className:"Tweet-Header"},o,r.a.createElement("span",{className:"Tweet-Info"},"\u2022 ",function(e){var t=new Date,a=Math.round((t-e)/1e3);return a<59?"".concat(a,"s"):a/60<59?"".concat(Math.round(a/60),"min"):a/60/60<24?"".concat(Math.round(a/60/60),"h"):"Hace ".concat(Math.round(a/60/60/24)," d\xedas")}(n))),t),r.a.createElement("div",{className:"Tweet-Actions"},l&&r.a.createElement(W,{handleDeleteTweet:function(){a()}}),r.a.createElement(K,{addLike:u,removeLike:s,likes:i})))}),_=function(){var e,t=B(),a=Object(p.a)(t,1)[0],n=x(),o=(e="date",a.sort((function(t,a){return a[e]-t[e]})));return 0===a.length?r.a.createElement(w,null):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"TweetsList-Container"},o.map((function(e){var t=e.id,a=e.text,o=e.date,c=e.displayName,l=e.photoURL,i=e.uid,s=e.remove,u=e.addLike,m=e.removeLike,d=e.likes;return r.a.createElement(Y,{key:t,id:t,text:a,remove:s,uid:i,date:o,userName:c,avatar:l,userTweet:n.uid===i,addLike:u,removeLike:m,likes:d})}))))},q=function(){var e=x();return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{imageURL:e.photoURL,name:e.displayName}),r.a.createElement(_,null))},Q=function(){return r.a.createElement(q,null)};a(56);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null,r.a.createElement(z,null,r.a.createElement(Q,null)))),document.getElementById("root"))}],[[28,1,2]]]);
//# sourceMappingURL=main.18790f74.chunk.js.map